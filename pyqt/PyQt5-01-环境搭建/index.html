<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="datakv">
    <link rel="canonical" href="https://datakv.github.io/pyqt/PyQt5-01-环境搭建/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>PyQt5-01-环境搭建 - IT杂谈</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "PyQt5-01-\u73af\u5883\u642d\u5efa", url: "#_top", children: [
              {title: "2019-6-7 18:44:30", url: "#2019-6-7-184430" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    

    <h1 id="pyqt5-01-">PyQt5-01-环境搭建</h1>
<h2 id="2019-6-7-184430">2019-6-7 18:44:30</h2>
<h3 id="1-python">1、当前使用的 python版本</h3>
<p>确认是python3</p>
<h3 id="2-qt5">2、安装 QT5：</h3>
<pre><code>python -m pip install PyQt5
</code></pre>

<p>或者</p>
<pre><code>python -m pip install PyQt5 -i https://pypi.douban.com/simple 
</code></pre>

<blockquote>
<p>在后面加上“-i https://pypi.douban.com/simple”表示使用豆瓣所提供的镜像</p>
</blockquote>
<h3 id="3qt5">3、安装qt5图形设计工具：</h3>
<pre><code>python -m pip install PyQt5-tools
</code></pre>

<p>或者</p>
<pre><code>python -m pip install PyQt5-tools -i https://pypi.douban.com/simple
</code></pre>

<blockquote>
<p>在后面加上“-i https://pypi.douban.com/simple” 同上</p>
</blockquote>
<h3 id="4qt5">4、验证qt5是否安装成功：</h3>
<pre><code>from PyQt5 import QtWidgets, QtGui
import sys

app = QtWidgets.QApplication(sys.argv)
window = QtWidgets.QWidget();
window.show()
sys.exit(app.exec_())
</code></pre>

<blockquote>
<p>此时正常弹出窗体，没有报错</p>
</blockquote>
<h3 id="5pycharm-qtdesigner">5、为PyCharm 添加 QtDesigner</h3>
<ol>
<li>打开settings-&gt;Tools-&gt;External Tools点击“+”</li>
<li>弹出对话框</li>
</ol>
<pre><code>name:QtDesigner 
Program:[选择designer.exe,一般都是在....\Lib\site-packages\pyqt5_tools\designer.exe]
Working directory: $FileDir$[通过后边的Insert Macros,选择‘FileDir - File directory’]
</code></pre>

<h3 id="6pycharm-pyuic">6、为PyCharm 添加 PyUIC</h3>
<ol>
<li>打开settings-&gt;Tools-&gt;External Tools点击“+”</li>
<li>弹出对话框</li>
</ol>
<pre><code>name:PyUIC 
Program:[选择python.exe]
Parameters: -m PyQt5.uic.pyuic  $FileName$ -o $FileNameWithoutExtension$.py
Working directory: $FileDir$[通过后边的Insert Macros,选择‘FileDir - File directory’]
</code></pre>

<h3 id="7-t_qt">7、新建项目 t_qt</h3>
<ol>
<li>右键t_qt-&gt;External Tools-&gt;QtDesigner，设计界面，保存hello.ui；</li>
<li>右键hello.ui-&gt;External Tools-&gt;PyUIC，生成py文件；</li>
<li>定义类和main函数；</li>
</ol>
<pre><code>

from t_qt import hello
from PyQt5 import QtCore, QtGui, QtWidgets
import sys


class query_window(QtWidgets.QMainWindow):
    def __init__(self):
        QtWidgets.QMainWindow.__init__(self)
        self.ui = hello.Ui_MainWindow()
        self.ui.setupUi(self)
        self.ui.pushButton.clicked.connect(self.query_formula)
        # 给button 的 点击动作绑定一个事件处理函数

    def query_formula(self):
        pass
        # 此处编写具体的业务逻辑


if __name__ == '__main__':
    app = QtWidgets.QApplication(sys.argv)
    window = query_window()
    window.show()
    sys.exit(app.exec_())

</code></pre>

<ol>
<li>执行。</li>
</ol>

  <br>
    

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>